id: Kucoin
apis:
  - name: FuturesTrading
    websocketEndpoints:
      - name: Positions
        description: >
          Position change event websocket stream. Use this stream to receive position updates for one specific symbol.<br/>See <a href="https://www.kucoin.com/docs-new/3470093w0">API</a>
        docUrl: https://www.kucoin.com/docs-new/3470093w0
        topic: /contract/position:${request}
        request:
          name: symbol
          description: Symbol of the contract
          sampleValue: XBTUSDM
        topicMatcher:
          fieldName: topic
          fieldValue: ${topic}
        message:
          properties:
            - name: type
              description: Message type
              sampleValue: message
            - name: userId
              description: Deprecated, will delete later
              sampleValue: 5cd3f1a7b7ebc19ae9558591
            - name: channelType
              description: Channel type 'private'
              sampleValue: private
            - name: topic
              description: Topic
              sampleValue: /contract/position:XBTUSDM
            - name: subject
              description: >
                Either <strong>position.change</strong>, <strong>position.settlement</strong> or <strong>position.adjustRiskLimit</strong>.
                See ${constants.futuresTrading.positionEventSubject} for possible values enumeration.
              sampleValue: ${constants.futuresTrading.positionEventSubject.change}
            - name: data
              description: Data payload
              type: OBJECT
              properties:
                - name: realisedGrossPnl
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. Accumulated realised profit and loss
                  sampleValue: 0
                  type: BIGDECIMAL
                - name: symbol
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. Symbol
                  sampleValue: XBTUSDTM
                - name: crossMode
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. Cross mode or not
                  sampleValue: false
                  type: BOOLEAN
                - name: liquidationPrice
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. Liquidation price
                  sampleValue: 1000000.0
                  type: BIGDECIMAL
                - name: posLoss
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. Manually added margin amount
                  sampleValue: 0
                  type: BIGDECIMAL
                - name: avgEntryPrice
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. Average entry price
                  sampleValue: 7508.22
                  type: BIGDECIMAL
                - name: unrealisedPnl
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. Unrealised profit and loss
                  sampleValue: -1.4735E-4
                  type: BIGDECIMAL
                - name: markPrice
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. Mark price
                  sampleValue: 7947.83
                  type: BIGDECIMAL
                - name: posMargin
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. Position margin
                  sampleValue: 0.00266779
                  type: BIGDECIMAL
                - name: autoDeposit
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. Auto deposit margin or not
                  sampleValue: false
                  type: BOOLEAN
                - name: riskLimit
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. Risk limit
                  sampleValue: 100000
                  type: BIGDECIMAL
                - name: unrealisedCost
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. Unrealised value
                  sampleValue: 0.00266375
                  type: BIGDECIMAL
                - name: posComm
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. Bankruptcy cost
                  sampleValue: 3.92E-6
                  type: BIGDECIMAL
                - name: posMaint
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. Maintenance margin
                  sampleValue: 1.724E-5
                  type: BIGDECIMAL
                - name: posCost
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. Position value
                  sampleValue: 0.00266375
                  type: BIGDECIMAL
                - name: maintMarginReq
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. Maintenance margin rate
                  sampleValue: 0.005
                  type: BIGDECIMAL
                - name: bankruptPrice
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. Bankruptcy price
                  sampleValue: 1000000.0
                  type: BIGDECIMAL
                - name: realisedCost
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. Currently accumulated realised position value
                  sampleValue: 2.71E-6
                  type: BIGDECIMAL
                - name: markValue
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. Mark value
                  sampleValue: 0.0025164
                  type: BIGDECIMAL
                - name: posInit
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. Position margin
                  sampleValue: 0.00266375
                  type: BIGDECIMAL
                - name: realisedPnl
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. Realised profit and loss
                  sampleValue: -2.53E-6
                  type: BIGDECIMAL
                - name: maintMargin
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. Position margin
                  sampleValue: 0.00252044
                  type: BIGDECIMAL
                - name: realLeverage
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. Leverage of the order
                  sampleValue: 1.06
                  type: BIGDECIMAL
                - name: changeReason
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. ChangeReason: <strong>marginChange</strong>, <strong>positionChange</strong>, <strong>liquidation</strong>, <strong>autoAppendMarginStatusChange</strong>, <strong>adl</strong>
                  sampleValue: positionChange
                - name: currentCost
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. Current position value
                  sampleValue: 0.00266375
                  type: BIGDECIMAL
                - name: openingTimestamp
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. Open time
                  sampleValue: 1558433191000
                  type: LONG
                - name: currentQty
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. Current position
                  sampleValue: -20
                  type: BIGDECIMAL
                - name: delevPercentage
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. ADL ranking percentile
                  sampleValue: 0.52
                  type: BIGDECIMAL
                - name: currentComm
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. Current commission
                  sampleValue: 2.71E-6
                  type: BIGDECIMAL
                - name: realisedGrossCost
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. Accumulated realised gross profit value
                  sampleValue: 0
                  type: BIGDECIMAL
                - name: isOpen
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. Opened position or not
                  sampleValue: true
                  type: BOOLEAN
                - name: posCross
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. Manually added margin
                  sampleValue: 1.2E-7
                  type: BIGDECIMAL
                - name: currentTimestamp
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. Current timestamp
                  sampleValue: 1558506060394
                  type: LONG
                - name: unrealisedRoePcnt
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. Rate of return on investment
                  sampleValue: -0.0553
                  type: BIGDECIMAL
                - name: unrealisedPnlPcnt
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.change</strong>. Position profit and loss ratio
                  sampleValue: -0.0553
                  type: BIGDECIMAL
                - name: settleCurrency
                  description: >
                    Currency used to clear and settle the trades
                  sampleValue: XBT
                - name: fundingTime
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.settlement</strong>. Funding time
                  sampleValue: 1551770400000
                  type: LONG
                - name: qty
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.settlement</strong>. Position size
                  sampleValue: 100
                  type: BIGDECIMAL
                - name: fundingRate
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.settlement</strong>. Funding rate
                  sampleValue: -0.002966
                  type: BIGDECIMAL
                - name: fundingFee
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.settlement</strong>. Funding fees
                  sampleValue: -296
                  type: BIGDECIMAL
                - name: ts
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.settlement</strong>. Current time (nanosecond)
                  sampleValue: 1547697294838004923
                  type: LONG
                - name: success
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.adjustRiskLimit</strong>. Successful or not
                  sampleValue: true
                  type: BOOLEAN
                - name: riskLimitLevel
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.adjustRiskLimit</strong>. Current risk limit level
                  sampleValue: 1
                  type: BIGDECIMAL
                - name: msg
                  description: >
                    Provided when <strong>subject</strong> is <strong>position.adjustRiskLimit</strong>. Failure reason
                  sampleValue: ""